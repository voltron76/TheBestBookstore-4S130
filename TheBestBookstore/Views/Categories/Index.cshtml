@model IEnumerable<TheBestBookstore.Models.Category>

@{
    ViewData["Title"] = "Index";
}

<h1 class="text-center text-primary">Category List</h1>

<div class="container">
    <p class="text-center">
        <a asp-action="Create" class="btn btn-success">Click here to Create a New Category</a>
    </p>
    <div class="d-flex justify-content-end mb-3">
        <form method="get" action="@Url.Action("SearchById", "Categories")" class="d-flex">
            <input type="number" name="id" placeholder="Search by Category ID" class="form-control me-2"
                   value="@Context.Request.Query["id"]" />
            <button type="submit" class="btn btn-primary">Search</button>
        </form>
    </div>

    <!-- Display Messages -->
    @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
    {
        <div class="alert alert-danger mt-2">@ViewBag.ErrorMessage</div>
    }

    @if (!string.IsNullOrEmpty(ViewBag.Message))
    {
        <div class="alert alert-info mt-2">@ViewBag.Message</div>
    }
    </div>


    <div class="table-responsive bg-light p-3 rounded shadow">
        <table class="table table-bordered table-hover">
            <thead class="bg-primary text-white">
                <tr>
                    <th>@Html.DisplayNameFor(model => model.Id)</th>
                    <th>@Html.DisplayNameFor(model => model.Name)</th>
                    <th>@Html.DisplayNameFor(model => model.Description)</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="table-row">
                        <td>@Html.DisplayFor(modelItem => item.Id)</td>
                        <td>@Html.DisplayFor(modelItem => item.Name)</td>
                        <td>@Html.DisplayFor(modelItem => item.Description)</td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-warning btn-sm">Edit</a>
                            <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger btn-sm">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>


<style>
    body {
        background-color: #f4f4f4;
    }

    .table-row:hover {
        background-color: #e9ecef !important;
    }

    .btn {
        border-radius: 5px;
    }
</style>
